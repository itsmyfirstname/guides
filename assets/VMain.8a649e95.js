import{r as I,a4 as le,E as Z,w as ue,a5 as q,f as F,D as T,e as c,G as z,A as W,H as X,B as ie,a6 as re,a7 as ce,k as A,C as k,K as ve,g as G,l as de,s as fe,a3 as pe,d as C}from"./index.983fea2d.js";import{a as Y,b as ye}from"./position.cdf4851b.js";function me(e){const l=I(),o=I();if(le){const a=new ResizeObserver(t=>{e==null||e(t,a),t.length&&(o.value=t[0].contentRect)});Z(()=>{a.disconnect()}),ue(l,(t,u)=>{u&&(a.unobserve(u),o.value=void 0),t&&a.observe(t)},{flush:"post"})}return{resizeRef:l,contentRect:q(o)}}const M=Symbol.for("vuetify:layout"),J=Symbol.for("vuetify:layout-item"),U=1e3,ge=F({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Le=F({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function he(){const e=T(M);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function $e(e){var v;const l=T(M);if(!l)throw new Error("[Vuetify] Could not find injected layout");const o=(v=e.id)!=null?v:`layout-item-${ie()}`,a=W("useLayoutItem");k(J,{id:o});const t=I(!1);re(()=>t.value=!0),ce(()=>t.value=!1);const{layoutItemStyles:u,layoutItemScrimStyles:r}=l.register(a,{...e,active:c(()=>t.value?!1:e.active.value),id:o});return Z(()=>l.unregister(o)),{layoutItemStyles:u,layoutRect:l.layoutRect,layoutItemScrimStyles:r}}const be=(e,l,o,a)=>{let t={top:0,left:0,right:0,bottom:0};const u=[{id:"",layer:{...t}}];for(const r of e){const v=l.get(r),m=o.get(r),b=a.get(r);if(!v||!m||!b)continue;const g={...t,[v.value]:parseInt(t[v.value],10)+(b.value?parseInt(m.value,10):0)};u.push({id:r,layer:g}),t=g}return u};function Ie(e){const l=T(M,null),o=c(()=>l?l.rootZIndex.value-100:U),a=I([]),t=z(new Map),u=z(new Map),r=z(new Map),v=z(new Map),m=z(new Map),{resizeRef:b,contentRect:g}=me(),Q=c(()=>{var n;const s=new Map,d=(n=e.overlaps)!=null?n:[];for(const y of d.filter(i=>i.includes(":"))){const[i,f]=y.split(":");if(!a.value.includes(i)||!a.value.includes(f))continue;const h=t.get(i),w=t.get(f),L=u.get(i),B=u.get(f);!h||!w||!L||!B||(s.set(f,{position:h.value,amount:parseInt(L.value,10)}),s.set(i,{position:w.value,amount:-parseInt(B.value,10)}))}return s}),S=c(()=>{const s=[...new Set([...r.values()].map(n=>n.value))].sort((n,y)=>n-y),d=[];for(const n of s){const y=a.value.filter(i=>{var f;return((f=r.get(i))==null?void 0:f.value)===n});d.push(...y)}return be(d,t,u,v)}),H=c(()=>!Array.from(m.values()).some(s=>s.value)),x=c(()=>S.value[S.value.length-1].layer),ee=c(()=>({"--v-layout-left":A(x.value.left),"--v-layout-right":A(x.value.right),"--v-layout-top":A(x.value.top),"--v-layout-bottom":A(x.value.bottom),...H.value?void 0:{transition:"none"}})),R=c(()=>S.value.slice(1).map((s,d)=>{let{id:n}=s;const{layer:y}=S.value[d],i=u.get(n),f=t.get(n);return{id:n,...y,size:Number(i.value),position:f.value}})),_=s=>R.value.find(d=>d.id===s),V=W("createLayout"),N=I(!1);X(()=>{N.value=!0}),k(M,{register:(s,d)=>{let{id:n,order:y,position:i,layoutSize:f,elementSize:h,active:w,disableTransitions:L,absolute:B}=d;r.set(n,y),t.set(n,i),u.set(n,f),v.set(n,w),L&&m.set(n,L);const K=ve(J,V==null?void 0:V.vnode).indexOf(s);K>-1?a.value.splice(K,0,n):a.value.push(n);const j=c(()=>R.value.findIndex($=>$.id===n)),O=c(()=>o.value+S.value.length*2-j.value*2),ne=c(()=>{const $=i.value==="left"||i.value==="right",P=i.value==="right",se=i.value==="bottom",D={[i.value]:0,zIndex:O.value,transform:`translate${$?"X":"Y"}(${(w.value?0:-110)*(P||se?-1:1)}%)`,position:B.value||o.value!==U?"absolute":"fixed",...H.value?void 0:{transition:"none"}};if(!N.value)return D;const p=R.value[j.value];if(!p)throw new Error(`[Vuetify] Could not find layout item "${n}"`);const E=Q.value.get(n);return E&&(p[E.position]+=E.amount),{...D,height:$?`calc(100% - ${p.top}px - ${p.bottom}px)`:h.value?`${h.value}px`:void 0,left:P?void 0:`${p.left}px`,right:P?`${p.right}px`:void 0,top:i.value!=="bottom"?`${p.top}px`:void 0,bottom:i.value!=="top"?`${p.bottom}px`:void 0,width:$?h.value?`${h.value}px`:void 0:`calc(100% - ${p.left}px - ${p.right}px)`}}),ae=c(()=>({zIndex:O.value-1}));return{layoutItemStyles:ne,layoutItemScrimStyles:ae,zIndex:O}},unregister:s=>{r.delete(s),t.delete(s),u.delete(s),v.delete(s),m.delete(s),a.value=a.value.filter(d=>d!==s)},mainRect:x,mainStyles:ee,getLayoutItem:_,items:R,layoutRect:g,rootZIndex:o});const te=c(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),oe=c(()=>({zIndex:o.value,position:l?"relative":void 0,overflow:l?"hidden":void 0}));return{layoutClasses:te,layoutStyles:oe,getLayoutItem:_,items:R,layoutRect:g,layoutRef:b}}const ze=G()({name:"VApp",props:{...ge({fullHeight:!0}),...de()},setup(e,l){let{slots:o}=l;const a=fe(e),{layoutClasses:t,layoutStyles:u,getLayoutItem:r,items:v,layoutRef:m}=Ie(e),{rtlClasses:b}=pe();return Y(()=>{var g;return C("div",{ref:m,class:["v-application",a.themeClasses.value,t.value,b.value],style:u.value},[C("div",{class:"v-application__wrap"},[(g=o.default)==null?void 0:g.call(o)])])}),{getLayoutItem:r,items:v,theme:a}}});function Se(){const e=I(!1);return X(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:c(()=>e.value?void 0:{transition:"none !important"}),isBooted:q(e)}}const Be=G()({name:"VMain",props:{scrollable:Boolean,...ye({tag:"main"})},setup(e,l){let{slots:o}=l;const{mainStyles:a}=he(),{ssrBootStyles:t}=Se();return Y(()=>C(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable}],style:[a.value,t.value]},{default:()=>{var u,r;return[e.scrollable?C("div",{class:"v-main__scroller"},[(u=o.default)==null?void 0:u.call(o)]):(r=o.default)==null?void 0:r.call(o)]}})),{}}});export{ze as V,$e as a,me as b,Be as c,Le as m,Se as u};
